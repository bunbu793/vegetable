import random

# 野菜ごとの報酬ポイント設定
REWARD_POINTS = {
    "トマト": 5,
    "ジャガイモ": 3,
    "ニンジン": 4,
    "キャベツ": 2,
    "ナス": 3,
    "ピーマン": 2,
    "ブロッコリー": 4,
    "ホウレンソウ": 3,
    "タマネギ": 2,
    "レタス": 2,
    "ダイコン": 3,
    "キュウリ": 2,
    "カボチャ": 4,
    "サツマイモ": 5,
    "アスパラガス": 3
}

# 仮のレシピデータベース
RECIPE_DB = {
    "トマト": [
        "トマトパスタ", "カプレーゼ", "トマトスープ",
        "トマトのチーズ焼き", "トマトの冷製パスタ", "トマトのマリネ", "トマトの卵炒め"
    ],
    "ナス": [
        "麻婆ナス", "ナスの揚げびたし", "ナスグラタン",
        "ナスの味噌炒め", "ナスの煮浸し", "ナスのピザ風", "ナスの田楽"
    ],
    "キャベツ": [
        "キャベツ炒め", "コールスロー", "ロールキャベツ",
        "キャベツの味噌汁", "キャベツのメンチカツ", "キャベツの塩昆布和え", "キャベツのミルフィーユ鍋"
    ],
    "ピーマン": [
        "ピーマンの肉詰め", "青椒肉絲", "ピーマン炒め",
        "ピーマンのきんぴら", "ピーマンのナムル", "ピーマンの味噌炒め", "ピーマンのチーズ焼き"
    ],
    "ブロッコリー": [
        "ブロッコリーの炒め物", "ブロッコリーのサラダ", "ブロッコリーのクリーム煮",
        "ブロッコリーのチーズ焼き", "ブロッコリーの胡麻和え", "ブロッコリーのスープ", "ブロッコリーの天ぷら"
    ],
    "ニンジン": [
        "ニンジンのグラッセ", "ニンジンのきんぴら", "ニンジンのポタージュ",
        "ニンジンのサラダ", "ニンジンの炒め物", "ニンジンのかき揚げ", "ニンジンのピクルス"
    ],
    "ホウレンソウ": [
        "ホウレンソウのおひたし", "ホウレンソウのソテー", "ホウレンソウのクリームパスタ",
        "ホウレンソウの味噌汁", "ホウレンソウの卵とじ", "ホウレンソウのグラタン", "ホウレンソウの胡麻和え"
    ],
    "タマネギ": [
        "タマネギのスープ", "タマネギのマリネ", "タマネギのオーブン焼き",
        "タマネギの天ぷら", "タマネギの炒め物", "タマネギのステーキ", "タマネギのかき揚げ"
    ],
    "ジャガイモ": [
        "ジャガイモの煮っ転がし", "ジャガイモのグラタン", "ジャガイモのサラダ",
        "ジャガイモのポタージュ", "ジャガイモのチーズ焼き", "ジャガイモのコロッケ", "ジャガイモのガレット"
    ],
    "レタス": [
        "レタスのサラダ", "レタスの巻き寿司", "レタスのスープ",
        "レタス炒飯", "レタスのしゃぶしゃぶ", "レタスのナムル", "レタスの卵炒め"
    ],
        "ダイコン": [
        "ダイコンの漬物", "ダイコンの煮物", "ダイコンのサラダ",
        "ダイコンステーキ", "ダイコンの味噌汁", "ダイコンのそぼろあんかけ", "ダイコンの梅和え"
    ],
    "キュウリ": [
        "キュウリの酢の物", "キュウリのサラダ", "キュウリの漬物",
        "キュウリの梅和え", "キュウリの中華風炒め", "キュウリのヨーグルト和え", "キュウリのピクルス"
    ],
    "カボチャ": [
        "カボチャの煮物", "カボチャのサラダ", "カボチャのスープ",
        "カボチャのグラタン", "カボチャの天ぷら", "カボチャのコロッケ", "カボチャのプリン"
    ],
    "サツマイモ": [
        "サツマイモの焼き芋", "サツマイモのサラダ", "サツマイモのスイートポテト",
        "サツマイモの天ぷら", "サツマイモの大学芋", "サツマイモのポタージュ", "サツマイモの炊き込みご飯"
    ],
    "アスパラガス": [
        "アスパラガスの炒め物", "アスパラガスのサラダ", "アスパラガスのグリル",
        "アスパラガスのベーコン巻き", "アスパラガスの天ぷら", "アスパラガスのチーズ焼き", "アスパラガスの味噌汁"
    ]
}
# ミッション生成関数
def generate_mission(vegetable_name, zombie_score):
    urgency = ""
    if zombie_score >= 80:
        urgency = "🔥緊急ミッション！"
    elif zombie_score >= 60:
        urgency = "⚠️ 早めに対応せよ！"
    else:
        urgency = "🧘‍♂️ のんびりミッション"

    # レシピ選択（通常野菜のみ）
    recipe = random.choice(RECIPE_DB.get(vegetable_name, ["未知のレシピ"]))

    reward_points = REWARD_POINTS.get(vegetable_name, 1)
    mission_text = f"{urgency} 『{recipe}』を作れ！材料：{vegetable_name}（ゾンビ化度：{zombie_score}%）"

    return {
        "vegetable": vegetable_name,
        "zombie_score": zombie_score,
        "recipe": recipe,
        "urgency": urgency,
        "mission": mission_text,
        "reward_points": reward_points
    }
__all__ = ["generate_mission", "RECIPE_DB", "HIDDEN_VEGETABLES"]